[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Plant coverage: RPAS-Field comparison",
    "section": "",
    "text": "This repository contains all information and results for the paper Vegetation cover estimation in semi-arid shrublands after prescribed burning. Field-ground and UAV comparison submitted to Drones\nThe paper have been submitted to Drones by Pérez-Luque AJ; Ramos Font ME; Tognetti Barbieri M; Tarragono C; and Robles Cruz AB."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "CRediT1 Statment (Contributor Roles Taxonomy)2:\n\nAntonio J. Pérez-Luque  : Conceptualization, Data curation, Formal analysis, Investigation, Methodology, Validation, Visualization, Writing - original draft, and Writing - review & editing.\nMaria Eugenia Ramos Font  :: Conceptualization, Investigation, Methodology, and Writing - review & editing.\nMauro J. Tognetti Barbieri: Data curation, Methodology, Validation, and Writing - review & editing.\nCarlos Tarragona: Data curation, Methodology, and Validation.\nAna Belén Robles Cruz: Conceptualization, Funding acquisition, Methodology, Project administration, Resources, Supervision, and Writing - review & editing.\n\n\n\n\nWe used R version 4.2.1 (R Core Team 2022a) and the following R packages: datasets v. 4.2.1 (R Core Team 2022b), DT v. 0.25 (Xie, Cheng, and Tan 2022), ggparty v. 1.0.0 (Borkovec and Madin 2019), ggtext v. 0.1.2 (Wilke and Wiernik 2022), graphics v. 4.2.1 (R Core Team 2022c), grateful v. 0.1.11 (Rodríguez-Sánchez, Jackson, and Hutchins 2022), grDevices v. 4.2.1 (R Core Team 2022d), grid v. 4.2.1 (R Core Team 2022e), here v. 1.0.1 (Müller 2020), kableExtra v. 1.3.4 (Zhu 2021), knitr v. 1.40 (Xie 2014, 2015, 2022), libcoin v. 1.0.9 (Hothorn 2021), methods v. 4.2.1 (R Core Team 2022f), Metrics v. 0.1.4 (Hamner and Frasco 2018), modeltools v. 0.2.23 (Hothorn, Leisch, and Zeileis 2020), mvtnorm v. 1.1.3 (Genz and Bretz 2009; Genz et al. 2021), party v. 1.3.10 (Hothorn, Hornik, and Zeileis 2006a; Hothorn et al. 2006; Strobl et al. 2007, 2008; Zeileis, Hothorn, and Hornik 2008a), partykit v. 1.2.16 (Hothorn, Hornik, and Zeileis 2006b; Zeileis, Hothorn, and Hornik 2008b; Hothorn and Zeileis 2015), patchwork v. 1.1.2 (Pedersen 2022), rpart v. 4.1.16 (Therneau and Atkinson 2022), sandwich v. 3.0.2 (Zeileis 2004, 2006b; Zeileis, Köll, and Graham 2020), stats v. 4.2.1 (R Core Team 2022g), stats4 v. 4.2.1 (R Core Team 2022h), strucchange v. 1.5.3 (Zeileis et al. 2002, 2003; Zeileis 2006a), tidyverse v. 1.3.2 (Wickham et al. 2019), utils v. 4.2.1 (R Core Team 2022i), zoo v. 1.8.11 (Zeileis and Grothendieck 2005).\n\n\n\n\n\nReferences\n\nBorkovec, Martin, and Niyaz Madin. 2019. Ggparty: ’Ggplot’ Visualizations for the ’Partykit’ Package. https://CRAN.R-project.org/package=ggparty.\n\n\nGenz, Alan, and Frank Bretz. 2009. Computation of Multivariate Normal and t Probabilities. Lecture Notes in Statistics. Heidelberg: Springer-Verlag.\n\n\nGenz, Alan, Frank Bretz, Tetsuhisa Miwa, Xuefei Mi, Friedrich Leisch, Fabian Scheipl, and Torsten Hothorn. 2021. mvtnorm: Multivariate Normal and t Distributions. https://CRAN.R-project.org/package=mvtnorm.\n\n\nHamner, Ben, and Michael Frasco. 2018. Metrics: Evaluation Metrics for Machine Learning. https://CRAN.R-project.org/package=Metrics.\n\n\nHothorn, Torsten. 2021. Libcoin: Linear Test Statistics for Permutation Inference. https://CRAN.R-project.org/package=libcoin.\n\n\nHothorn, Torsten, Peter Buehlmann, Sandrine Dudoit, Annette Molinaro, and Mark Van Der Laan. 2006. “Survival Ensembles.” Biostatistics 7 (3): 355–73.\n\n\nHothorn, Torsten, Kurt Hornik, and Achim Zeileis. 2006a. “Unbiased Recursive Partitioning: A Conditional Inference Framework.” Journal of Computational and Graphical Statistics 15 (3): 651–74.\n\n\n———. 2006b. “Unbiased Recursive Partitioning: A Conditional Inference Framework.” Journal of Computational and Graphical Statistics 15 (3): 651–74. https://doi.org/10.1198/106186006X133933.\n\n\nHothorn, Torsten, Friedrich Leisch, and Achim Zeileis. 2020. Modeltools: Tools and Classes for Statistical Models. https://CRAN.R-project.org/package=modeltools.\n\n\nHothorn, Torsten, and Achim Zeileis. 2015. “partykit: A Modular Toolkit for Recursive Partytioning in R.” Journal of Machine Learning Research 16: 3905–9. https://jmlr.org/papers/v16/hothorn15a.html.\n\n\nMüller, Kirill. 2020. Here: A Simpler Way to Find Your Files. https://CRAN.R-project.org/package=here.\n\n\nPedersen, Thomas Lin. 2022. Patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\nR Core Team. 2022a. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\n———. 2022b. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\n———. 2022c. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\n———. 2022d. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\n———. 2022e. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\n———. 2022f. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\n———. 2022g. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\n———. 2022h. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\n———. 2022i. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nRodríguez-Sánchez, Francisco, Connor P. Jackson, and Shaurita D. Hutchins. 2022. Grateful: Facilitate Citation of r Packages. https://github.com/Pakillo/grateful.\n\n\nStrobl, Carolin, Anne-Laure Boulesteix, Thomas Kneib, Thomas Augustin, and Achim Zeileis. 2008. “Conditional Variable Importance for Random Forests.” BMC Bioinformatics 9 (307). https://doi.org/10.1186/1471-2105-9-307.\n\n\nStrobl, Carolin, Anne-Laure Boulesteix, Achim Zeileis, and Torsten Hothorn. 2007. “Bias in Random Forest Variable Importance Measures: Illustrations, Sources and a Solution.” BMC Bioinformatics 8 (25). https://doi.org/10.1186/1471-2105-8-25.\n\n\nTherneau, Terry, and Beth Atkinson. 2022. Rpart: Recursive Partitioning and Regression Trees. https://CRAN.R-project.org/package=rpart.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. Ggtext: Improved Text Rendering Support for ’Ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nXie, Yihui. 2014. “Knitr: A Comprehensive Tool for Reproducible Research in R.” In Implementing Reproducible Computational Research, edited by Victoria Stodden, Friedrich Leisch, and Roger D. Peng. Chapman; Hall/CRC. http://www.crcpress.com/product/isbn/9781466561595.\n\n\n———. 2015. Dynamic Documents with R and Knitr. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC. https://yihui.org/knitr/.\n\n\n———. 2022. Knitr: A General-Purpose Package for Dynamic Report Generation in r. https://yihui.org/knitr/.\n\n\nXie, Yihui, Joe Cheng, and Xianying Tan. 2022. DT: A Wrapper of the JavaScript Library ’DataTables’. https://CRAN.R-project.org/package=DT.\n\n\nZeileis, Achim. 2004. “Econometric Computing with HC and HAC Covariance Matrix Estimators.” Journal of Statistical Software 11 (10): 1–17. https://doi.org/10.18637/jss.v011.i10.\n\n\n———. 2006a. “Implementing a Class of Structural Change Tests: An Econometric Computing Approach.” Computational Statistics & Data Analysis 50 (11): 2987–3008. https://doi.org/10.1016/j.csda.2005.07.001.\n\n\n———. 2006b. “Object-Oriented Computation of Sandwich Estimators.” Journal of Statistical Software 16 (9): 1–16. https://doi.org/10.18637/jss.v016.i09.\n\n\nZeileis, Achim, and Gabor Grothendieck. 2005. “Zoo: S3 Infrastructure for Regular and Irregular Time Series.” Journal of Statistical Software 14 (6): 1–27. https://doi.org/10.18637/jss.v014.i06.\n\n\nZeileis, Achim, Torsten Hothorn, and Kurt Hornik. 2008a. “Model-Based Recursive Partitioning.” Journal of Computational and Graphical Statistics 17 (2): 492–514.\n\n\n———. 2008b. “Model-Based Recursive Partitioning.” Journal of Computational and Graphical Statistics 17 (2): 492–514. https://doi.org/10.1198/106186008X319331.\n\n\nZeileis, Achim, Christian Kleiber, Walter Krämer, and Kurt Hornik. 2003. “Testing and Dating of Structural Changes in Practice.” Computational Statistics & Data Analysis 44 (1–2): 109–23. https://doi.org/10.1016/S0167-9473(03)00030-6.\n\n\nZeileis, Achim, Susanne Köll, and Nathaniel Graham. 2020. “Various Versatile Variances: An Object-Oriented Implementation of Clustered Covariances in R.” Journal of Statistical Software 95 (1): 1–36. https://doi.org/10.18637/jss.v095.i01.\n\n\nZeileis, Achim, Friedrich Leisch, Kurt Hornik, and Christian Kleiber. 2002. “Strucchange: An r Package for Testing for Structural Change in Linear Regression Models.” Journal of Statistical Software 7 (2): 1–38. https://doi.org/10.18637/jss.v007.i02.\n\n\nZhu, Hao. 2021. kableExtra: Construct Complex Table with ’Kable’ and Pipe Syntax. https://CRAN.R-project.org/package=kableExtra.\n\nFootnotes\n\n\nCRedIT is a high-level taxonomy, including 14 roles, that indicate some of the roles played by contributors to scientific scholarly output. The roles describe each contributor’s specific contribution to the scholarly output.↩︎\nWe used the package tenzing to generate the CRediT taxonomy.↩︎"
  },
  {
    "objectID": "analysis.html",
    "href": "analysis.html",
    "title": "Analysis",
    "section": "",
    "text": "source('scripts/99-pkgs.R')"
  },
  {
    "objectID": "analysis.html#aims",
    "href": "analysis.html#aims",
    "title": "Analysis",
    "section": "Aims",
    "text": "Aims"
  },
  {
    "objectID": "analysis.html#general-correlation",
    "href": "analysis.html#general-correlation",
    "title": "Analysis",
    "section": "General correlation",
    "text": "General correlation\n\nExplore the correlation between plant cover estimated by RPAS (RPAS-estimated vegetation cover) and estimated by field measures (Field-estimated vegetation cover)\nCompute the RMSE (Root Mean Squared Error) and the normalized RMSE\n\n\ndf.rmse_global <- df %>% \n  summarise(rmse = round(\n    Metrics::rmse(plant_coverage_field, plant_coverage_rpas),4),\n    min = min(plant_coverage_field), \n    max = max(plant_coverage_field),\n    rmsen.minmax = rmse / (max(plant_coverage_field) - min(plant_coverage_field))*100)\n\n\ndf.rmse_global %>% kbl(\n  col.names = c(\"RMSE\",\"min\",\"max\",\"norm. RMSE (%)\"),\n  digits = 2) %>% \n  kable_material()\n\n\nRMSE and normalized RMSE values for the correlation between the vegetation coverage estimates using RPAS vs Field measures\n \n  \n    RMSE \n    min \n    max \n    norm. RMSE (%) \n  \n \n\n  \n    9.89 \n    6 \n    87 \n    12.21 \n  \n\n\n\n\n\n\n# https://stackoverflow.com/questions/17022553/adding-r2-on-graph-with-facets\nlm_eqn = function(df){\n  m = lm(plant_coverage_rpas ~ plant_coverage_field, df);\n  eq <- substitute(r2,\n                   list(r2 = format(summary(m)$r.squared, digits = 3)))\n  as.character(as.expression(eq));                 \n}\n\n\nverde_claro <- \"#c6ddb3\"\nverde_oscuro <- \"#3e6c62\"\nylab <- \"RPAS-estimated\"\nxlab <- \"Field-estimated\"\n\n# See https://stackoverflow.com/questions/65076492/ggplot-size-of-annotate-vs-size-of-element-text \n\n\n# Custom theme\ntheme_rpas <- function(){\n  theme_bw() %+replace% \n  theme(\n    plot.title = element_text(size=14, \n                              margin = margin(0,0,10,0)), \n    panel.grid = element_blank(),\n    axis.title = element_text(size = 12),\n    # For panels\n    strip.background = element_rect(fill=\"white\"), \n    strip.text = element_text(size = 10, \n                              margin = margin(5,0,5,0))\n    )\n}\n\n\ngeneral_plot <- df %>% \n  ggplot(aes(x=plant_coverage_field, y = plant_coverage_rpas)) + \n  geom_point(size=3, alpha=.5, colour=verde_oscuro) + \n  geom_abline(slope=1, colour=verde_oscuro) +\n  labs(x = xlab, y = ylab, \n       title = \"Vegetation cover (%)\") + \n  xlim(0,100) + ylim(0,100) + \n  annotate(\"text\", x= 5, y = 95, \n           label =paste0(\"R^2 == \", lm_eqn(df)), \n           parse = TRUE, \n           colour = \"black\", \n           size = 14/.pt,\n           hjust = 0) +\n  annotate(\"text\", x= 5, y = 85, \n           label = paste0(\"RMSE = \", round(df.rmse_global$rmse, 2)),\n           colour = \"black\", \n           size = 14/.pt, \n           hjust = 0) +\n  theme_rpas() \ngeneral_plot"
  },
  {
    "objectID": "analysis.html#comparison-by-treatments",
    "href": "analysis.html#comparison-by-treatments",
    "title": "Analysis",
    "section": "Comparison by treatments",
    "text": "Comparison by treatments\n\nIs the estimation different between treatments?\n\n\ndf.rmse_treatment <- df %>% \n  group_by(treatment) %>% \n  summarise(rmse = round(\n    Metrics::rmse(plant_coverage_field, plant_coverage_rpas),4),\n    min = min(plant_coverage_field), \n    max = max(plant_coverage_field),\n    rmsen.minmax = rmse / (max(plant_coverage_field) - min(plant_coverage_field))*100)\n\n\ndf.rmse_treatment %>% kbl(\n  col.names = c(\"Treatment\", \"RMSE\",\"min\",\"max\",\"norm. RMSE (%)\"),\n  digits = c(0,2,0,0,2)) %>% \n  kable_material()\n\n\nRMSE and normalized RMSE values for the correlation between the vegetation coverage estimates using RPAS vs Field measures. Values by treatment\n \n  \n    Treatment \n    RMSE \n    min \n    max \n    norm. RMSE (%) \n  \n \n\n  \n    Prescribed Burn \n    7.95 \n    9 \n    66 \n    13.95 \n  \n  \n    Pyric Herbivorism \n    10.73 \n    6 \n    87 \n    13.24 \n  \n\n\n\n\n\n\neqns <- by(df, df$treatment, lm_eqn)\ndf.label <- data.frame(eq = unclass(eqns), treatment = names(eqns))\ndf.label$lab = paste(df.label$treatment, \"R^2 =\", df.label$eq, sep=\" \")\n\nr2_labeller <- function(variable,value){\n  return(df.label$lab)\n}\n\n\ntreatment_plot <- df %>% \n  ggplot(aes(x=plant_coverage_field, y=plant_coverage_rpas)) + \n  geom_point(size=3, alpha=.5, colour=verde_oscuro) + \n  geom_abline(slope=1, colour=verde_oscuro) +\n  facet_wrap(~treatment, labeller = label_value) +\n  labs(x = xlab, y = ylab, title = \"Vegetation cover (%)\") + \n  xlim(0,100) + ylim(0,100) +\n  theme_rpas() + \n  theme(legend.position = \"none\") +\n   geom_richtext(data = df.rmse_treatment, size=10/.pt,\n            aes(x = 30, y = 90, \n                label = paste0(\n                  \"RMSE<sub>norm.</sub> = \",\n                  round(rmsen.minmax,2), \" %\")),\n            fill = NA, label.color = NA)\ntreatment_plot"
  },
  {
    "objectID": "analysis.html#comparison-by-cover-types",
    "href": "analysis.html#comparison-by-cover-types",
    "title": "Analysis",
    "section": "Comparison by cover types",
    "text": "Comparison by cover types\n\ndf.rmse_groups <- df %>% \n  group_by(cover_type) %>% \n  summarise(rmse = round(\n    Metrics::rmse(plant_coverage_field, plant_coverage_rpas),4),\n    min = min(plant_coverage_field), \n    max = max(plant_coverage_field),\n    rmsen.minmax = rmse / (max(plant_coverage_field) - min(plant_coverage_field))*100)\n\n\ndf.rmse_groups %>% kbl(\n  col.names = c(\"Cover type\", \"RMSE\",\"min\",\"max\",\"norm. RMSE (%)\"),\n  digits = c(0,2,0,0,2)) %>% \n  kable_material()\n\n\nRMSE and normalized RMSE values for the correlation between the vegetation coverage estimates using RPAS vs Field measures. Values by cover types\n \n  \n    Cover type \n    RMSE \n    min \n    max \n    norm. RMSE (%) \n  \n \n\n  \n    Dense scrubland \n    12.69 \n    10 \n    61 \n    24.89 \n  \n  \n    Low scrubland \n    7.30 \n    6 \n    28 \n    33.18 \n  \n  \n    Medium scrubland \n    10.89 \n    9 \n    63 \n    20.16 \n  \n  \n    Stipa dense steppes \n    7.63 \n    9 \n    87 \n    9.78 \n  \n\n\n\n\n\n\neqns <- by(df, df$cover_type, lm_eqn)\ndf.label <- data.frame(eq = unclass(eqns), treatment = names(eqns))\ndf.label$lab = paste(df.label$cover_type, \"R^2 =\", df.label$eq, sep=\" \")\n\nr2_labeller <- function(variable,value){\n  return(df.label$lab)\n}\n\n\ncustom_order <- c(\"Low scrubland\", \"Medium scrubland\", \n                  \"Dense scrubland\", \"Stipa dense steppes\")\n\ncovertype_plot <- df %>%\n  ggplot(aes(x=plant_coverage_field, y=plant_coverage_rpas)) + \n  geom_point(size=3, alpha=.5, colour=verde_oscuro) + \n  geom_abline(slope=1, colour=verde_oscuro) +\n  facet_wrap(~factor(cover_type, custom_order), \n             labeller = label_value) + \n  labs(x = xlab, y = ylab, title = \"Vegetation cover (%)\") + \n  xlim(0,100) + ylim(0,100) +\n  theme_rpas() + \n  theme(legend.position = \"none\") +\n   geom_richtext(data = df.rmse_groups, size=10/.pt,\n            aes(x = 30, y = 90, \n                label = paste0(\n                  \"RMSE<sub>norm.</sub> = \",\n                  round(rmsen.minmax,2), \" %\")),\n            fill = NA, label.color = NA)\ncovertype_plot\n\n\n\n\n\ncombined_plot <- covertype_plot / treatment_plot   + \n  plot_layout(heights = c(2,1)) + \n  plot_annotation(tag_levels = 'a') &\n  theme(plot.tag = element_text(face= 'bold'))"
  },
  {
    "objectID": "analysis.html#variance-partitioning",
    "href": "analysis.html#variance-partitioning",
    "title": "Analysis",
    "section": "Variance partitioning",
    "text": "Variance partitioning\nIs the relationship between the vegetation coverage estimated by RPAS and by field measurement uniform across all coverage values? or is the correlation between those two approach homogeneous across all coverage values?\n\nct <- partykit::ctree(plant_coverage_rpas ~ plant_coverage_field, data=df)\nct\n\n\nModel formula:\nplant_coverage_rpas ~ plant_coverage_field\n\nFitted party:\n[1] root\n|   [2] plant_coverage_field <= 36\n|   |   [3] plant_coverage_field <= 23\n|   |   |   [4] plant_coverage_field <= 13: 9.150 (n = 16, err = 498.4)\n|   |   |   [5] plant_coverage_field > 13: 17.207 (n = 28, err = 2433.9)\n|   |   [6] plant_coverage_field > 23: 28.322 (n = 26, err = 2998.9)\n|   [7] plant_coverage_field > 36\n|   |   [8] plant_coverage_field <= 50: 48.571 (n = 11, err = 1550.7)\n|   |   [9] plant_coverage_field > 50: 70.347 (n = 15, err = 2566.3)\n\nNumber of inner nodes:    4\nNumber of terminal nodes: 5\n\nsctest(ct) \n\n$`1`\n          plant_coverage_field\nstatistic         7.818806e+01\np.value           9.368296e-19\n\n$`2`\n          plant_coverage_field\nstatistic         2.791016e+01\np.value           1.270809e-07\n\n$`3`\n          plant_coverage_field\nstatistic           5.75223821\np.value             0.01646766\n\n$`4`\nNULL\n\n$`5`\n          plant_coverage_field\nstatistic            0.1017646\np.value              0.7497222\n\n$`6`\n          plant_coverage_field\nstatistic           2.83932243\np.value             0.09198299\n\n$`7`\n          plant_coverage_field\nstatistic         1.604824e+01\np.value           6.174895e-05\n\n$`8`\nNULL\n\n$`9`\nNULL\n\n\nThere are 5 terminal nodes.\n\nggparty(ct) + \n  geom_edge() +\n  geom_edge_label(colour = \"grey\", size = 4) +\n  geom_node_plot(gglist = list(\n    geom_point(aes(x =plant_coverage_field,y = plant_coverage_rpas)),\n    geom_smooth(aes(x=plant_coverage_field, y=plant_coverage_rpas), method = lm, se = FALSE),\n    geom_abline(slope = 1, colour = \"gray\"),\n    theme_bw(base_size = 10),\n    xlab(xlab),\n    ylab(ylab) \n    ),\n                scales = \"fixed\", \n                shared_axis_labels = TRUE,\n                shared_legend = TRUE,\n                legend_separator = TRUE, \n                id = \"terminal\") +\n   geom_node_label(aes(col = splitvar),\n                  line_list = list(aes(label = paste(\"Node\", id)),\n                                   aes(label = splitvar),\n                                   aes(label = scales::pvalue(p.value, accuracy = 0.001, \n                                                              decimal.mark = \".\", \n                                                              add_p = TRUE))), \n                                                     \n          line_gpar = list(list(size = 8, col = \"black\", fontface = \"bold\"),\n                                   list(size = 8),\n                                   list(size = 8)),\n                  ids = \"inner\") + \n  geom_node_label(aes(label = paste0(\"Node \", id, \", (n= \", nodesize, \")\")),\n                  fontface = \"bold\",\n                  ids = \"terminal\",\n                  size = 2, \n                  nudge_y = 0.01) +\n  theme(legend.position = \"none\")\n\n\n\n\nWhat about the overfitting?\n\nggplot(df, aes(x=plant_coverage_field, y = plant_coverage_rpas)) +\n  geom_point() + \n  geom_abline(yintercept = 1) + \n  geom_smooth(\n    data = (df %>% filter(plant_coverage_field <=  13)),\n    aes(x=plant_coverage_field, y = plant_coverage_rpas),\n    method = \"lm\") + \n  geom_smooth(\n    data = (df %>% filter(plant_coverage_field > 13 & plant_coverage_field <= 23)),\n    aes(x=plant_coverage_field, y = plant_coverage_rpas),\n    method = \"lm\") + \n  geom_smooth(\n    data = (df %>% filter(plant_coverage_field > 23 & plant_coverage_field <= 36)),\n    aes(x=plant_coverage_field, y = plant_coverage_rpas),\n    method = \"lm\") + \n  geom_smooth(\n    data = (df %>% filter(plant_coverage_field > 36 & plant_coverage_field <= 50)),\n    aes(x=plant_coverage_field, y = plant_coverage_rpas),\n    method = \"lm\") +\n  geom_smooth(\n    data = (df %>% filter(plant_coverage_field >50)),\n    aes(x=plant_coverage_field, y = plant_coverage_rpas),\n    method = \"lm\")\n\n\n\n\n\nFind the optimous complexity parameter\n\nset.seed(123)\nctrpart <- rpart(plant_coverage_rpas ~ plant_coverage_field, data=df)\nctrpart\n\nn= 96 \n\nnode), split, n, deviance, yval\n      * denotes terminal node\n\n 1) root 96 49813.8800 30.77125  \n   2) plant_coverage_field< 36.5 70  9815.7370 19.49371  \n     4) plant_coverage_field< 23.5 44  3593.3100 14.27727  \n       8) plant_coverage_field< 13.5 16   498.4016  9.15000 *\n       9) plant_coverage_field>=13.5 28  2433.9300 17.20714 *\n     5) plant_coverage_field>=23.5 26  2998.9390 28.32154  \n      10) plant_coverage_field< 30.5 16   998.4559 23.88250 *\n      11) plant_coverage_field>=30.5 10  1180.7530 35.42400 *\n   3) plant_coverage_field>=36.5 26  7126.2780 61.13385  \n     6) plant_coverage_field< 51 11  1550.7140 48.57091 *\n     7) plant_coverage_field>=51 15  2566.3220 70.34667 *\n\nprintcp(ctrpart)\n\n\nRegression tree:\nrpart(formula = plant_coverage_rpas ~ plant_coverage_field, data = df)\n\nVariables actually used in tree construction:\n[1] plant_coverage_field\n\nRoot node error: 49814/96 = 518.89\n\nn= 96 \n\n        CP nsplit rel error  xerror     xstd\n1 0.659894      0   1.00000 1.02767 0.147971\n2 0.064711      1   0.34011 0.39621 0.065669\n3 0.060410      2   0.27540 0.38907 0.061846\n4 0.016456      3   0.21499 0.29072 0.047114\n5 0.013269      4   0.19853 0.28587 0.046682\n6 0.010000      5   0.18526 0.26769 0.046179\n\nplotcp(ctrpart)\n\n\n\n\n\nset.seed(123)\nctrpart2 <- rpart(plant_coverage_rpas ~ plant_coverage_field, data=df, control = \n               rpart.control(minsplit = 2, cp = .075))\nctrpart2\n\nn= 96 \n\nnode), split, n, deviance, yval\n      * denotes terminal node\n\n1) root 96 49813.880 30.77125  \n  2) plant_coverage_field< 36.5 70  9815.737 19.49371 *\n  3) plant_coverage_field>=36.5 26  7126.278 61.13385 *\n\nprintcp(ctrpart2)\n\n\nRegression tree:\nrpart(formula = plant_coverage_rpas ~ plant_coverage_field, data = df, \n    control = rpart.control(minsplit = 2, cp = 0.075))\n\nVariables actually used in tree construction:\n[1] plant_coverage_field\n\nRoot node error: 49814/96 = 518.89\n\nn= 96 \n\n       CP nsplit rel error  xerror     xstd\n1 0.65989      0   1.00000 1.02767 0.147971\n2 0.07500      1   0.34011 0.39621 0.065669\n\nplotcp(ctrpart2)\n\n\n\n\n\nset.seed(123)\nct_ok <- partykit::ctree(plant_coverage_rpas ~ plant_coverage_field,\n  data = df,\n  control =\n    ctree_control(minsplit = 1, alpha = 0.05, maxdepth = 1)\n)\nplot(ct_ok)\n\n\n\nplot_party <- ggparty(ct_ok) +\n  geom_edge() +\n  geom_edge_label(colour = verde_oscuro, size = 5) +\n  geom_node_plot(\n    gglist = list(\n      geom_point(aes(\n        x = plant_coverage_field,\n        y = plant_coverage_rpas\n      ),\n      size = 3, alpha = .5, colour = verde_oscuro\n      ),\n      geom_smooth(aes(x = plant_coverage_field, y = plant_coverage_rpas),\n        method = lm, se = FALSE, colour = \"gray\"\n      ),\n      geom_abline(slope = 1, colour = verde_oscuro),\n      theme_bw(base_size = 10),\n      xlab(xlab),\n      ylab(ylab),\n      theme(\n        panel.grid = element_blank()\n      )\n    ),\n    scales = \"fixed\",\n    shared_axis_labels = TRUE,\n    shared_legend = TRUE,\n    legend_separator = TRUE,\n    id = \"terminal\"\n  ) +\n  geom_node_label(aes(col = splitvar),\n    line_list = list(\n      aes(id),\n      aes(label = \"Vegetation cover\"),\n      aes(label = scales::pvalue(p.value,\n        accuracy = 0.001,\n        decimal.mark = \".\",\n        add_p = TRUE\n      ))\n    ),\n\n    line_gpar = list(\n      list(size = 10, col = \"black\"),\n      list(size = 10, col = \"black\"),\n      list(size = 10, col = \"black\")\n    ),\n    ids = \"inner\",\n    label.col = verde_oscuro\n  ) +\n  geom_node_label(aes(label = paste0(\"n = \", nodesize)),\n    ids = \"terminal\",\n    size = 3,\n    nudge_y = 0.01\n  ) +\n  theme(legend.position = \"none\")\n\n\nggsave(plot_party,\n       filename = here::here(\"output/correla_partitioning.jpg\"),\n       device = \"jpg\", height = 12, width = 12, unit=\"cm\", dpi = \"print\", bg = \"white\")\n\n\npkgs <- (.packages())\n\ncite_packages(pkgs = pkgs, output = \"paragraph\")\nWe used R version 4.2.1 (R Core Team 2022a) and the following R packages: datasets v. 4.2.1 (R Core Team 2022b), DT v. 0.25 (Xie, Cheng, and Tan 2022), ggparty v. 1.0.0 (Borkovec and Madin 2019), ggtext v. 0.1.2 (Wilke and Wiernik 2022), graphics v. 4.2.1 (R Core Team 2022c), grateful v. 0.1.11 (Rodríguez-Sánchez, Jackson, and Hutchins 2022), grDevices v. 4.2.1 (R Core Team 2022d), grid v. 4.2.1 (R Core Team 2022e), here v. 1.0.1 (Müller 2020), kableExtra v. 1.3.4 (Zhu 2021), knitr v. 1.40 (Xie 2014, 2015, 2022), libcoin v. 1.0.9 (Hothorn 2021), methods v. 4.2.1 (R Core Team 2022f), Metrics v. 0.1.4 (Hamner and Frasco 2018), modeltools v. 0.2.23 (Hothorn, Leisch, and Zeileis 2020), mvtnorm v. 1.1.3 (Genz and Bretz 2009; Genz et al. 2021), party v. 1.3.10 (Hothorn, Hornik, and Zeileis 2006a; Hothorn et al. 2006; Strobl et al. 2007, 2008; Zeileis, Hothorn, and Hornik 2008a), partykit v. 1.2.16 (Hothorn, Hornik, and Zeileis 2006b; Zeileis, Hothorn, and Hornik 2008b; Hothorn and Zeileis 2015), patchwork v. 1.1.2 (Pedersen 2022), rpart v. 4.1.16 (Therneau and Atkinson 2022), sandwich v. 3.0.2 (Zeileis 2004, 2006b; Zeileis, Köll, and Graham 2020), stats v. 4.2.1 (R Core Team 2022g), stats4 v. 4.2.1 (R Core Team 2022h), strucchange v. 1.5.3 (Zeileis et al. 2002, 2003; Zeileis 2006a), tidyverse v. 1.3.2 (Wickham et al. 2019), utils v. 4.2.1 (R Core Team 2022i), zoo v. 1.8.11 (Zeileis and Grothendieck 2005)."
  },
  {
    "objectID": "index.html#acknowledgements",
    "href": "index.html#acknowledgements",
    "title": "Plant coverage: RPAS-Field comparison",
    "section": "Acknowledgements",
    "text": "Acknowledgements\nThis study was funded by:\n\nMICINN through European Regional Development Fund SUMHAL, LIFEWATCH-2019-09-CSIC-13, POPE 2014-2020. More info about the SUMHAL project (Sustainability for Mediterranean Hotspots in Andalusia integrating LifeWatch ERIC).\nInterreg Sudoe Programme, European Regional Development Fund, European-Union, Open2preserve project (SOE2/P5/E0804).\nGrant PID2020-116786RB-C32 funded by MCIN/AEI/ 10.13039/501100011033."
  }
]